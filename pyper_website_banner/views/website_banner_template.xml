<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="website_banner_template" inherit_id="website.layout">
        <xpath expr="//body" position="before">
            <t t-set="_record" t-value="request.env['website.banner']._get_website_banner()"/>
            <t t-set="current_path" t-value="request.httprequest.path"/>

            <t t-if="_record.website_id.id == request.website.id and (_record.only_shop and current_path.startswith('/shop') or not _record.only_shop)">
                <div t-if="_record" class="banner d-flex justify-content-center align-items-center flex-wrap"
                     t-attf-style="{{ 'background-image: linear-gradient(to right, ' + _record.bg_color + ' 50%, '
                         + _record.second_bg_color + ' 100%)' if _record.has_second_bg_color else 'background-color: ' + _record.bg_color }};
                            {{'padding: ' + str(_record.padding) + 'px 0'}};
                        ">
                    <t t-raw="_record.content"/>
                </div>
            </t>
        </xpath>
    </template>
</odoo>
