<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="pyper_drawer_header.UserMenu">
        <Dropdown class="'flex-grow-1 text-truncate'" togglerClass="'o-drawer--user-menu-block d-flex align-items-center'">
            <t t-set-slot="toggler">
                <img class="o_avatar o_user_avatar" t-att-src="source" alt="User"/>
                <div class="oe_topbar_name ms-2 text-start d-flex flex-column lh-1 text-truncate">
                    <span t-esc="user.name" class="o-drawer--user-menu-name-size fw-bold mb-1 text-truncate"/>
                    <span class="small opacity-50">My account</span>
                </div>
            </t>

            <t t-foreach="getElements()" t-as="element" t-key="element_index">
                <t t-if="!element.hide">
                    <DropdownItem
                        t-if="element.type == 'item' || element.type == 'switch'"
                        href="element.href"
                        dataset="{ menu: element.id }"
                        onSelected="element.callback"
                    >
                        <CheckBox
                            t-if="element.type == 'switch'"
                            value="element.isChecked"
                            className="'form-switch d-flex flex-row-reverse justify-content-between p-0 w-100'"
                            onChange="element.callback"
                        >
                            <t t-out="element.description"/>
                        </CheckBox>
                        <t t-else="" t-out="element.description"/>
                    </DropdownItem>
                    <div t-if="element.type == 'separator'" role="separator" class="dropdown-divider"/>
                </t>
            </t>
        </Dropdown>
    </t>

</templates>
