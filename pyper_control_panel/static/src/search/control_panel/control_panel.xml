<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="pyper_control_panel.ControlPanel" t-inherit="web.ControlPanel" t-inherit-mode="extension">
        <!-- Move Create/New button -->
        <xpath expr="//t[@t-slot='control-panel-navigation-additional']" position="after">
            <xpath expr="//div[hasclass('o_control_panel_main_buttons')]" position="move"/>
        </xpath>

        <xpath expr="//div[hasclass('o_control_panel_actions')]" position="attributes">
            <attribute name="class" remove="justify-content-lg-around" separator=" " add="justify-content-lg-end me-2"/>
        </xpath>

        <xpath expr="//div[hasclass('o_control_panel')]" position="attributes">
            <attribute name="class" separator=" " remove="pt-2 pb-3" add="py-3"/>
        </xpath>

        <xpath expr="//div[hasclass('o_control_panel_main')]" position="attributes">
            <attribute name="class" separator=" " remove="align-items-lg-start gap-3" add="align-items-center"/>
        </xpath>

        <!-- Move Actions button -->
        <xpath expr="//t[@t-slot='control-panel-navigation-additional']" position="after">
            <xpath expr="//div[hasclass('o_control_panel_breadcrumbs')]//t//section[hasclass('o_control_panel_breadcrumbs_actions')]/t[@t-slot='control-panel-additional-actions']" position="move"/>
        </xpath>

        <xpath expr="//div[hasclass('o_control_panel_navigation')]" position="attributes">
            <attribute name="class" separator=" " remove="gap-3 gap-lg-1 gap-xl-3 pt-1" add="gap-1 gap-lg-1 gap-xl-2"/>
        </xpath>

         <xpath expr="//button[hasclass('o_switch_view')]" position="attributes">
             <attribute name="class" remove="btn btn-secondary" separator=" " add="btn toggle-panel text-nowrap btn rounded-0"/>
        </xpath>

        <xpath expr="//div[hasclass('o_control_panel_breadcrumbs')]" position="attributes">
            <attribute name="class" separator=" " remove="gap-1"/>
        </xpath>
    </t>

    <t t-name="pyper_control_panel.Breadcrumbs" t-inherit="web.Breadcrumbs" t-inherit-mode="extension">
        <xpath expr="//div[hasclass('o_breadcrumb')]" position="attributes">
            <attribute name="class" separator=" " remove="flex-row flex-md-column"/>
        </xpath>

        <xpath expr="//div[hasclass('o_breadcrumb')]/t[@t-if='env.isSmall']" position="attributes">
            <attribute name="t-if">true</attribute>
        </xpath>

        <xpath expr="//button[hasclass('o_back_button')]" position="attributes">
            <attribute name="class" separator=" " remove="btn-link px-1"/>
        </xpath>

        <xpath expr="//div[hasclass('o_breadcrumb')][1]//div[hasclass('o_last_breadcrumb_item')]" position="replace"/>

        <xpath expr="//div[hasclass('o_breadcrumb')][2]//div[hasclass('o_last_breadcrumb_item')]" position="attributes">
            <attribute name="class" add="fw-bolder mx-3" separator=" "/>
        </xpath>

        <xpath expr="//button[hasclass('o_back_button')]/i" position="attributes">
            <attribute name="class">fa fa-arrow-left</attribute>
        </xpath>
    </t>

    <t t-name="pyper_control_panel.Breadcrumb.Actions" t-inherit="web.Breadcrumb.Actions" t-inherit-mode="extension">
        <xpath expr="//div[hasclass('o_control_panel_breadcrumbs_actions')]" position="replace"/>
    </t>
</templates>
